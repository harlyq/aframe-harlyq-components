<!DOCTYPE html>
<html>
  <head>
    <title>Heightfield examples</title>
    <script src="../../aframe/aframe-0.9.0.js"></script>
    <script src="../dist/aframe-harlyq-components.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <canvas id="thing" width="32" height="32">
      </a-assets>
      <a-entity procedural-texture="shader: #thingshader; dest: #thing; multiplier: 5" visible="false">
        <script id="thingshader" type="x-shader/x-fragment">
          uniform float multiplier;
          varying vec2 vUv;
          void main() {
            //float v = smoothstep(.1, .5, length(vUv - .5));
            float v = fbm(vUv*multiplier + .5);
            gl_FragColor = mix(vec4(0.), vec4(1.), v);
          }
        </script>
      </a-entity>
      <a-entity heightfield="src: #thing; channels: a" material="color: green; flatShading: true; side: double" rotation="90 0 0" position="0 1.5 -2"></a-entity>
      <a-box material="src: #thing; color: blue" scale=".1 .1 .1" position="0 1.2 -1"></a-box>
    </a-scene>
  </body>
</html>